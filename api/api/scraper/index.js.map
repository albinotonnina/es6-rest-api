{"version":3,"sources":["../../../src/api/scraper/index.js"],"names":["db","router","Router","mergeParams","get","req","res","scraper","crawl","then","output","status","send","JSON","stringify","catch","errCode","error"],"mappings":";;;;;;AAAA;;;;AACA;;AAEA;;;;kBAEe,UAACA,EAAD,EAAQ;;AAEnB,QAAMC,SAAS,kBAAQC,MAAR,CAAe,EAACC,aAAa,IAAd,EAAf,CAAf;;AAEAF,WAAOG,GAAP,CAAW,GAAX,EAAgB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC1B,YAAMC,UAAU,sBAAhB;;AAEAA,gBAAQC,KAAR,GACKC,IADL,CACU,UAACC,MAAD,EAAY;AACdJ,gBAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,KAAKC,SAAL,CAAeJ,MAAf,CAArB;AACH,SAHL,EAIKK,KAJL,CAIW,UAACC,OAAD,EAAW;AACdV,gBAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBC,KAAKC,SAAL,CAAe,EAACG,OAAOD,OAAR,EAAf,CAArB;AACH,SANL;AAOH,KAVD;;AAaA,WAAOf,MAAP;AAEH,C","file":"index.js","sourcesContent":["import express from 'express';\nimport {ObjectID} from 'mongodb';\n\nimport {Scraper} from './Scraper';\n\nexport default (db) => {\n\n    const router = express.Router({mergeParams: true});\n\n    router.get('/', (req, res) => {\n        const scraper = new Scraper();\n\n        scraper.crawl()\n            .then((output) => {\n                res.status(200).send(JSON.stringify(output));\n            })\n            .catch((errCode)=>{\n                res.status(500).send(JSON.stringify({error: errCode}));\n            })\n    });\n\n\n    return router;\n\n}\n\n"]}